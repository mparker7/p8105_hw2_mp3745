p8105\_hw2\_mp3745
================
Matthew Parker
9/24/2019

``` r
# Load tidyverse library
library(tidyverse)
```

# Problem 1

``` r
# Read in Mr. Trash Wheel data sheet, clean names, omit rows without dumpster specific data, round sports_balls to nearest int
mr_trash_data = 
  readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                     sheet = "Mr. Trash Wheel", 
                     range = "A2:N338") %>% 
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(sports_balls = round(as.numeric(sports_balls), 0))
```

``` r
# Read in 2018 precipitation data
precip_2018_data = 
  readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                     sheet = "2018 Precipitation", 
                     range = "A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = 2018) %>%
  rename("total_precipitation_in" = "total") %>%
  filter(!(is.na(total_precipitation_in))) %>%
  select(year, month, total_precipitation_in)

# Read in 2017 precipitation data
precip_2017_data = 
  readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                     sheet = "2017 Precipitation", 
                     range = "A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = 2017) %>%
  rename("total_precipitation_in" = "total") %>%
  select(year, month, total_precipitation_in)

# Combine 2017 and 2018 precipiation data
precip_2017_18_data = 
  bind_rows(precip_2017_data, precip_2018_data) %>% 
  mutate(month = month.name[month])
```

In the Mr. Trash Wheel data, there a total of 286 observations, whereas
the monthly record of precipitation for 2017 and 2018 combined has a
total of 24 observations. The precipitation dataset consists of monthly
records of the total precipitation in inches. The total amount of
precipitation recorded in 2018 was 70.33 inches. The Mr. Trash Wheel
dataset has dumpster level information regarding what was in each
dumpster that was filled up. It has information about the weight and
volume that was collected into the dumpster, and also counts of various
items, such as sports balls. The median number of sports balls in a
dumpster in 2017 was 8 balls. There is also information about the number
of homes powered by the trash
collected.

# Problem 2

``` r
# Read in and clean the data about the number of national politicians who are democratic or republican at a given time
pols_month_data = 
  read_csv("./data/fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>%
  separate(
    col = mon,
    into = c("year", "month", "day"),
    sep = "-"
  ) %>%
  mutate(month = month.name[(as.numeric(month))]) %>%
  mutate(year = as.numeric(year)) %>%
  pivot_longer(
    cols = starts_with("prez"),
    names_to = "president",
    names_prefix = "prez_"
  ) %>%
  select(-value, -day)
```

``` r
# Read in and clean the data about 2 varaibles related to Standard & Poor’s stock market index (S&P)
snp_data = 
  read_csv("./data/fivethirtyeight_datasets/snp.csv") %>% 
  janitor::clean_names() %>%
  separate(
    col = date,
    into = c("month", "day", "year"),
    sep = "/"
  ) %>%
  mutate(month = month.name[(as.numeric(month))]) %>%
  mutate(year = as.numeric(year)) %>%
  select(year, month, close) %>%
  arrange(year, month)
```

``` r
# Read in and clean the data about unemployment
unemploy_data = 
  read_csv("./data/fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() %>%
  pivot_longer(
    cols = jan:dec,
    names_to = "month",
    values_to = "unemployment"
  ) %>%
  mutate(
    month = recode(month, 
                   "jan" = "January",
                   "feb" = "February",
                   "mar" = "March",
                   "apr" = "April",
                   "jun" = "June",
                   "jul" = "July",
                   "aug" = "August",
                   "sep" = "September",
                   "oct" = "October",
                   "nov" = "November",
                   "dec" = "December")
  )
```

``` r
# Merge snp_date into pols_month_data
snp_pols = 
  left_join(pols_month_data, snp_data, by = c("year", "month"))

# Merge unemployment_data into snp_pols
snp_pols_unemploy = 
  left_join(snp_pols, unemploy_data, by = c("year", "month"))
```

There were three datasets imported above. The first dataset
(pols-month), consists of data about the number of politicians who are
democratic or republican at a given time. The second dataset (snp),
consists of data about the closing value of the S\&P stock index on a
given date. The third dataset (unemployment), consists of monthly
recorded unemployment percentage values. The final dataset was a merged
version of the three previously mentioned. This last dataset has 1644
observations of 11 variables. The information was collected from 1947 to
2015 for a total coverage of 68 years. In this dataset, information is
recorded on a monthly basis. The information collected consists of
whether the president at the time was democratic or republican, the
closing value of the S\&P stock index, and the unemployment rate.
